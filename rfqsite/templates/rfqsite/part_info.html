<!doctype html>
{% load static %}
<html class="fixed">
	<head>

		<!-- Basic -->
		<meta charset="UTF-8">

		<title>RFQ Management Application</title>
		<meta name="keywords" content="HTML5 Admin Template" />
		<meta name="description" content="Porto Admin - Responsive HTML5 Template">
		<meta name="author" content="okler.net">

		<!-- Mobile Metas -->
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<!-- Web Fonts  -->
		<link href="http://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800|Shadows+Into+Light" rel="stylesheet" type="text/css">

		<!-- Vendor CSS -->
		<link rel="stylesheet" href="{% static "assets/vendor/bootstrap/css/bootstrap.css" %}">
		<link rel="stylesheet" href="{% static "assets/vendor/font-awesome/css/font-awesome.css" %}">
		<link rel="stylesheet" href="{% static "assets/vendor/magnific-popup/magnific-popup.css" %}">
		<link rel="stylesheet" href="{% static "assets/vendor/bootstrap-datepicker/css/datepicker3.css" %}">

		<!-- DataTable CSS -->
		<link rel="stylesheet" href="{% static "assets/vendor/select2/select2.css" %}">
		<link rel="stylesheet" href="{% static "assets/vendor/jquery-datatables-bs3/assets/css/datatables.css" %}">

		<!-- Notification CSS -->
		<link rel="stylesheet" href="{% static "assets/vendor/pnotify/pnotify.custom.css" %}">

		<!-- Tree CSS -->
		<link rel="stylesheet" href="{% static "assets/vendor/jstree/themes/default/style.css" %}">

		<!-- Theme CSS -->
		<link rel="stylesheet" href="{% static "assets/stylesheets/theme.css" %}">

		<!-- Skin CSS -->
		<link rel="stylesheet" href="{% static "assets/stylesheets/skins/default.css" %}">

		<!-- Theme Custom CSS -->
		<link rel="stylesheet" href="{% static "assets/stylesheets/theme-custom.css" %}">

		<style>
			.labcustom {
				padding-left: 6px;
				padding-right: 6px;
			}
		</style>

	</head>
	<body>
		<div id="pre-loading" hidden style="position: fixed;top: 50%;left: 50%;transform: translate(-50%, -50%);">
			<img src="{% static "assets/images/pre-loading3.gif" %}">
		</div>
		<section class="body" id="content" hidden>

			<!-- start: header -->
			{% include 'navbar.html' %}
			<!-- end: header -->

			<div class="inner-wrapper">
				<!-- start: sidebar -->
				{% include 'leftsidebar.html' %}
				<!-- end: sidebar -->

				<section role="main" class="content-body">
					<header class="page-header">
						<h2>Part Information</h2>
						<div class="right-wrapper pull-right">
							<ol class="breadcrumbs">
								<li>
									<a href="/part_table/{{ part.tracker_no.tracker_no }}">
										<i class="fa fa-chevron-left"></i><b> Back</b>
									</a>
								</li>
							</ol>
							<a class="sidebar-right-toggle"></a>
						</div>
					</header>

					<!-- start: page -->
					<!-- Information -->
					<div class="col-md-12">
								<section class="panel panel-featured">
									<header class="panel-heading">
										<div class="panel-actions">
											<a href="#" class="fa fa-caret-down"></a>
											<!-- <a href="#" class="fa fa-times"></a>	 -->
										</div>
										<h2 class="panel-title"><i class="fa fa-info-circle"></i> Information</h2>
									</header>
									<div class="panel-body">
										<div class="row">
											<div class="col-md-8">
												<div class="form-group">
													<label class="col-sm-3 control-label"><b>SL No.</b></label>
													<div class="col-sm-9">
														<label class="control-label" id="sl-no" name="sl-no">{{ part.sl_no }}</label>
													</div>
												</div>
												{% if part.level != 0 %}
												<div class="form-group">
													<label class="col-sm-3 control-label"><b>Parent Part (SL No.)</b></label>
													<div class="col-sm-9">
														<label class="control-label" id="parent-sl-no" name="parent-sl-no">{{ part.parent_sl_no.sl_no }}</label>&nbsp;&nbsp;
														<a href="/part_info/{{ part.parent_sl_no.sl_no }}">	<i class="fa fa-external-link"></i></a>
													</div>
												</div>
												{% endif %}
												<div class="form-group">
													<label class="col-sm-3 control-label"><b>Part Level</b></label>
													<div class="col-sm-9">
														<label class="control-label" id="part-level" name="part-level">{{ part.level }}</label>
													</div>
												</div>
												<div class="form-group">
													<label class="col-sm-3 control-label"><b>Part No.</b></label>
													<div class="col-sm-9">
														<label class="control-label" id="part-no" name="part-no">{{ part.no }}</label>
													</div>
												</div>
												<div class="form-group">
													<label class="col-sm-3 control-label"><b>Part Name</b></label>
													<div class="col-sm-9">
														<label class="control-label" id="part-name" name="part-name">{{ part.name }}</label>
													</div>
												</div>
												<div class="form-group">
													<label class="col-sm-3 control-label"><b>Program</b></label>
													<div class="col-sm-9">
														<label class="control-label" id="program" name="program">{{ part.program }}</label>
													</div>
												</div>
												<div class="form-group">
													<label class="col-sm-3 control-label"><b>Type</b></label>
													<div class="col-sm-9">
														{% if part.type == "Part" %}<i class="fa fa-cube"></i>&nbsp;{% endif %}
														{% if part.type == "Hardware" %}<i class="fa fa-codepen"></i>&nbsp;{% endif %}
														<label class="control-label" id="type" name="type">{{ part.type }}</label>
													</div>
												</div>
												<div class="form-group">
													<label class="col-sm-3 control-label"><b>Current File</b></label>
													<div class="col-sm-9">
														<label class="control-label" id="file_path" name="file_path">{{ file_name }}</label>
													</div>
												</div>
										</div>
										{% if part.image_path != "" %}
										<div class="col-md-4">
											<div class="thumbnail-gallery">
												<a class="img-thumbnail lightbox" href="/media/{{ part.image_path }}" data-plugin-options='{ "type":"image" }'>
													<img class="img-responsive" width="250" src="/media/{{ part.image_path }}">
													<span class="zoom">
														<i class="fa fa-search"></i>
													</span>
												</a>
											</div>
										</div>
										{% endif %}
									</div>
										<div class="text-right mr-lg">
											<a class="mb-xs mt-xs mr-xs btn btn-sm btn-default" href="/media/{{ part.file_path }}" {% if part.file_path == "" %}disabled{% endif %}><i class="fa fa-download"></i> Download Files</a>
											{% if user.extenduser.role.permission == 0 or user.extenduser.role.permission == 1 %}
											<a class="mb-xs mt-xs mr-xs btn btn-sm btn-default" href="/edit_part_info/{{ part.sl_no }}"><i class="fa fa-edit"></i> Edit</a>
											<a class="mb-xs mt-xs mr-xs modal-basic btn btn-sm btn-danger" href="#modal-remove"><i class="fa fa-minus-circle"></i> Remove</a>
											{% endif %}
										</div>
									</div>
								</section>
					</div>

					<!-- Remove Modal -->
					<div id="modal-remove" class="zoom-anim-dialog modal-block modal-block-danger mfp-hide">
						<section class="panel">
							<header class="panel-heading">
								<h2 class="panel-title">Remove Part</h2>
							</header>
								<div class="panel-body">
									<div class="modal-wrapper">
										<div class="modal-icon">
											<i class="fa fa-minus-circle"></i>
										</div>
										<div class="modal-text">
											<p>Are you sure that you want to delete this part?</p>
										</div>
									</div>
								</div>
							<footer class="panel-footer">
								<div class="row">
									<div class="col-md-12 text-right">
										<a class="btn btn-danger" href="/remove_part/{{ part.sl_no }}">Confirm</a>
										<button class="btn btn-default modal-dismiss">Cancel</button>
									</div>
								</div>
							</footer>
						</section>
					</div>

					<!-- Part Structure -->
					<div class="col-md-12">
							<section class="panel panel-featured">
								<header class="panel-heading">
									<div class="panel-actions">
										<a href="#" class="fa fa-caret-down"></a>
										<!-- <a href="#" class="fa fa-times"></a> -->
									</div>
									<h2 class="panel-title"><i class="fa fa-cubes"></i> Part Structure</h2>
								</header>
								<div class="panel-body">
									<div id="treeBasic">
										<ul>
											<!-- level 0 -->
											{% for p0 in parts %}
												<li data-jstree='{ "icon" : {% if p0.type == "Part" %}"fa fa-cube"{% else %}"fa fa-codepen"{% endif %}{% if p0.isOpen %}, "opened" : true{% endif %} }'>
													<span onClick="javascript:window.location.href='/part_info/{{ p0.sl_no }}'">
														<b>SL No.</b> {{ p0.sl_no }} <b>Part No.</b> {{ p0.no }} <b>Part Name</b> {{ p0.name }}
														{% if p0.sl_no == part.sl_no %}<i class="fa fa-check" data-toggle="tooltip" data-placement="top" title="Current Node"></i>{% endif %}
													</span>
													<!-- level 1 -->
													{% if p0.children != None %}
														<ul>
															{% for p1 in p0.children %}
																<li data-jstree='{ "icon" : {% if p1.type == "Part" %}"fa fa-cube"{% else %}"fa fa-codepen"{% endif %}{% if p1.isOpen %}, "opened" : true{% endif %} }'>
																	<span onClick="javascript:window.location.href='/part_info/{{ p1.sl_no }}'">
																		<b>SL No.</b> {{ p1.sl_no }} <b>Part No.</b> {{ p1.no }} <b>Part Name</b> {{ p1.name }}
																		{% if p1.sl_no == part.sl_no %}<i class="fa fa-check" data-toggle="tooltip" data-placement="top" title="Current Node"></i>{% endif %}
																	</span>
																	<!-- level 2 -->
																	{% if p1.children != None %}
																		<ul>
																			{% for p2 in p1.children %}
																				<li data-jstree='{ "icon" : {% if p2.type == "Part" %}"fa fa-cube"{% else %}"fa fa-codepen"{% endif %}{% if p2.isOpen %}, "opened" : true{% endif %} }'>
																					<span onClick="javascript:window.location.href='/part_info/{{ p2.sl_no }}'">
																						<b>SL No.</b> {{ p2.sl_no }} <b>Part No.</b> {{ p2.no }} <b>Part Name</b> {{ p2.name }}
																						{% if p2.sl_no == part.sl_no %}<i class="fa fa-check" data-toggle="tooltip" data-placement="top" title="Current Node"></i>{% endif %}
																					</span>
																					<!-- level 3 -->
																					{% if p2.children != None %}
																						<ul>
																							{% for p3 in p2.children %}
																								<li data-jstree='{ "icon" : {% if p3.type == "Part" %}"fa fa-cube"{% else %}"fa fa-codepen"{% endif %}{% if p3.isOpen %}, "opened" : true{% endif %} }'>
																									<span onClick="javascript:window.location.href='/part_info/{{ p3.sl_no }}'">
																										<b>SL No.</b> {{ p3.sl_no }} <b>Part No.</b> {{ p3.no }} <b>Part Name</b> {{ p3.name }}
																										{% if p3.sl_no == part.sl_no %}<i class="fa fa-check" data-toggle="tooltip" data-placement="top" title="Current Node"></i>{% endif %}
																									</span>
																									<!-- level 4 -->
																									{% if p3.children != None %}
																										<ul>
																											{% for p4 in p3.children %}
																												<li data-jstree='{ "icon" : {% if p4.type == "Part" %}"fa fa-cube"{% else %}"fa fa-codepen"{% endif %}{% if p4.isOpen %}, "opened" : true{% endif %} }'>
																													<span onClick="javascript:window.location.href='/part_info/{{ p4.sl_no }}'">
																														<b>SL No.</b> {{ p4.sl_no }} <b>Part No.</b> {{ p4.no }} <b>Part Name</b> {{ p4.name }}
																														{% if p4.sl_no == part.sl_no %}<i class="fa fa-check" data-toggle="tooltip" data-placement="top" title="Current Node"></i>{% endif %}
																													</span>
																													<!-- level 5 -->
																													{% if p4.children != None %}
																														<ul>
																															{% for p5 in p4.children %}
																																<li data-jstree='{ "icon" : {% if p5.type == "Part" %}"fa fa-cube"{% else %}"fa fa-codepen"{% endif %}{% if p5.isOpen %}, "opened" : true{% endif %} }'>
																																	<span onClick="javascript:window.location.href='/part_info/{{ p5.sl_no }}'">
																																		<b>SL No.</b> {{ p5.sl_no }} <b>Part No.</b> {{ p5.no }} <b>Part Name</b> {{ p5.name }}
																																		{% if p5.sl_no == part.sl_no %}<i class="fa fa-check" data-toggle="tooltip" data-placement="top" title="Current Node"></i>{% endif %}
																																	</span>
																																	<!-- level 6 -->
																																	{% if p5.children != None %}
																																		<ul>
																																			{% for p6 in p5.children %}
																																				<li data-jstree='{ "icon" : {% if p6.type == "Part" %}"fa fa-cube"{% else %}"fa fa-codepen"{% endif %}{% if p6.isOpen %}, "opened" : true{% endif %} }'>
																																					<span onClick="javascript:window.location.href='/part_info/{{ p6.sl_no }}'">
																																						<b>SL No.</b> {{ p6.sl_no }} <b>Part No.</b> {{ p6.no }} <b>Part Name</b> {{ p6.name }}
																																						{% if p6.sl_no == part.sl_no %}<i class="fa fa-check" data-toggle="tooltip" data-placement="top" title="Current Node"></i>{% endif %}
																																					</span>
																																					<!-- level 7 -->
																																					{% if p6.children != None %}
																																						<ul>
																																							{% for p7 in p6.children %}
																																								<li data-jstree='{ "icon" : {% if p7.type == "Part" %}"fa fa-cube"{% else %}"fa fa-codepen"{% endif %}{% if p7.isOpen %}, "opened" : true{% endif %} }'>
																																									<span onClick="javascript:window.location.href='/part_info/{{ p7.sl_no }}'">
																																										<b>SL No.</b> {{ p7.sl_no }} <b>Part No.</b> {{ p7.no }} <b>Part Name</b> {{ p7.name }}
																																										{% if p7.sl_no == part.sl_no %}<i class="fa fa-check" data-toggle="tooltip" data-placement="top" title="Current Node"></i>{% endif %}
																																									</span>

																																								</li>
																																							{% endfor %}
																																						</ul>
																																					{% endif %}
																																					<!-- end Level 7 -->
																																				</li>
																																			{% endfor %}
																																		</ul>
																																	{% endif %}
																																	<!-- end Level 6 -->
																																</li>
																															{% endfor %}
																														</ul>
																													{% endif %}
																													<!-- end Level 5 -->
																												</li>
																											{% endfor %}
																										</ul>
																									{% endif %}
																									<!-- end Level 4 -->
																								</li>
																							{% endfor %}
																						</ul>
																					{% endif %}
																					<!-- end Level 3 -->
																				</li>
																			{% endfor %}
																		</ul>
																	{% endif %}
																	<!-- end Level 2 -->
																</li>
															{% endfor %}
														</ul>
													{% endif %}
													<!-- end Level 1 -->
												</li>
											{% endfor %}
											<!-- end level 0 -->
										</ul>
									</div>
									<small class="text-muted"><i class="fa fa-cube"></i> Part | <i class="fa fa-codepen"></i> Hardware</small>
									<div class="text-right mr-lg">
										{% if user.extenduser.role.permission == 0 or user.extenduser.role.permission == 1 %}
										<a class="mb-xs mt-xs mr-xs btn btn-sm btn-default" href="/add_child/{{ part.sl_no }}" {% if part.level >= 7 %}disabled{% endif %}><i class="fa fa-plus"></i> New Child</a>
										{% endif %}
									</div>
								</div>
							</section>
					</div>

					<!-- Forecast & EAU -->
					<div class="col-md-12">
								<section class="panel panel-featured">
									<header class="panel-heading">
										<div class="panel-actions">
											<a href="#" class="fa fa-caret-down"></a>
											<!-- <a href="#" class="fa fa-times"></a> -->
										</div>
										<h2 class="panel-title"><i class="fa fa-star-half-empty"></i> Forecast & EAU</h2>
									</header>
									<div class="panel-body">
										<div class="table-responsive">
											<table class="table table-bordered table-striped table-condensed mb-none">
											<thead>
												<tr>
													<th class="center custom1" rowspan="2"><b>QTY Per Unit</b></td>
											    <th class="center custom1" colspan="5">Forecast</th>
											    <th class="center custom1" colspan="6">EAU</th>
												</tr>
												<tr>
											    <th class="center custom2">{{ current_year }}</th>
											    <th class="center custom2">{{ current_year|add:"1" }}</th>
											    <th class="center custom2">{{ current_year|add:"2" }}</th>
											    <th class="center custom2">{{ current_year|add:"3" }}</th>
													<th class="center custom2">{{ current_year|add:"4" }}</th>
													<th class="center custom2">{{ current_year }}</th>
											    <th class="center custom2">{{ current_year|add:"1" }}</th>
											    <th class="center custom2">{{ current_year|add:"2" }}</th>
											    <th class="center custom2">{{ current_year|add:"3" }}</th>
													<th class="center custom2">{{ current_year|add:"4" }}</th>
													<th class="center custom2">5 Years Total</th>
											  </tr>
											</thead>
											<tbody>
												<tr>
													<td class="center" id="qty-per-unit" name="qty-per-unit">{{ forecast.qty_per_unit }}</td>
													<td class="center" id="forecast-year1" name="forecast-year1">{{ forecast.forecast_year1 }}</td>
													<td class="center" id="forecast-year2" name="forecast-year2">{{ forecast.forecast_year2 }}</td>
													<td class="center" id="forecast-year3" name="forecast-year3">{{ forecast.forecast_year3 }}</td>
													<td class="center" id="forecast-year4" name="forecast-year4">{{ forecast.forecast_year4 }}</td>
													<td class="center" id="forecast-year5" name="forecast-year5">{{ forecast.forecast_year5 }}</td>
													<td class="center" id="eau-year1" name="eau-year1">-</td>
													<td class="center" id="eau-year2" name="eau-year2">-</td>
													<td class="center" id="eau-year3" name="eau-year3">-</td>
													<td class="center" id="eau-year4" name="eau-year4">-</td>
													<td class="center" id="eau-year5" name="eau-year5">-</td>
													<td class="center" id="eau-total-year" name="eau-total-year">-</td>
												</tr>
											</tbody>
										</table>
										<br>
										<div class="form-group">
											<label class="col-sm-3 control-label"><b>Annual Estimate Qty for Calculation</b></label>
											<div class="col-sm-9">
												<label class="control-label" id="aeqfc" name="aeqfc">{{ forecast.aeqfc }}</label>
											</div>
										</div>
										</div>
										<div class="text-right mr-lg">
											{% if user.extenduser.role.permission == 0 or user.extenduser.role.permission == 1 %}
											<a class="mb-xs mt-xs mr-xs btn btn-sm btn-default" href="/edit_forecast/{{ part.sl_no }}"><i class="fa fa-edit"></i> Edit</a>
											{% endif %}
										</div>
									</div>
								</section>
					</div>

					<!-- Materials -->
					<div class="col-md-12" {% if part.type == "Hardware" %}hidden{% endif %}>
							<section class="panel panel-featured">
									<header class="panel-heading">
												<div class="panel-actions">
													<a href="#" class="fa fa-caret-down"></a>
													<!-- <a href="#" class="fa fa-times"></a> -->
												</div>
												<h2 class="panel-title"><i class="fa fa-puzzle-piece"></i> Material</h2>
									</header>
									<div class="panel-body">
										<div class="form-group">
											<label class="col-sm-3 control-label"><b>Description</b></label>
											<div class="col-sm-9">
												<label class="control-label" id="material-description" name="material-description">{{ material.description }}</label>
											</div>
										</div>
										<div class="form-group">
											<label class="col-sm-3 control-label"><b>Cross Section</b></label>
											<div class="col-sm-9">
												<label class="control-label" id="cross-section" name="cross-section">{{ material.cross_section }}</label>
											</div>
										</div>
										<div class="form-group">
											<label class="col-sm-3 control-label"><b>Material Type</b></label>
											<div class="col-sm-9">
												<label class="control-label" id="material-type" name="material-type">{{ material.type }}</label>
											</div>
										</div>
										<div class="form-group">
											<label class="col-sm-3 control-label"><b>Quantity</b></label>
											<div class="col-sm-9">
												<label class="control-label" id="material-qty" name="material-qty">{{ material.quantity }}</label>
											</div>
										</div>
										<br>
											<!-- Raw Material Size -->
											<div class="table-responsive">
										  	<table class="table table-bordered table-striped table-condensed mb-none">
													<thead>
													    <th class="center custom1" colspan="7">Raw Material Size</th>
														<tr>
															<th class="center custom2">
																Density {% if material.rm_density %}({{ material.rm_density_unit }}){% endif %}
															</th>
													    <th class="center custom2">
																Outter Diameter {% if material.rm_d1 %}({{ material.rm_d1_unit }}){% endif %}
															</th>
															<th class="center custom2">
																Inner Diameter {% if material.rm_d2 %}({{ material.rm_d2_unit }}){% endif %}
															</th>
													    <th class="center custom2">
																Thickness {% if material.rm_t %}({{ material.rm_t_unit }}){% endif %}
															</th>
													    <th class="center custom2">
																Width {% if material.rm_w %}({{ material.rm_w_unit }}){% endif %}
															</th>
													    <th class="center custom2">
																Length {% if material.rm_l %}({{ material.rm_l_unit }}){% endif %}
															</th>
															<th class="center custom2">RM Weight (kg)</th>
													  </tr>
													</thead>
													<tbody>
														<tr>
															<td class="center" id="rm-density" name="rm-density">{{ material.rm_density }}</td>
															<td class="center" id="rm-d1" name="rm-d1">{{ material.rm_d1 }}</td>
															<td class="center" id="rm-d2" name="rm-d2">{{ material.rm_d2 }}</td>
															<td class="center" id="rm-t" name="rm-t">{{ material.rm_t }}</td>
															<td class="center" id="rm-w" name="rm-w">{{ material.rm_w }}</td>
															<td class="center" id="rm-l" name="rm-l">{{ material.rm_l }}</td>
															<td class="center" id="rm-total-weight" name="rm-total-weight">{{ material.rm_total_weight }}</td>
														</tr>
													</tbody>
											</table>
											</div>
											<input type="hidden" id="rm-density-unit" name="rm-density-unit" value="{{ material.rm_density_unit }}">
											<input type="hidden" id="rm-d1-unit" name="rm-d1-unit" value="{{ material.rm_d1_unit }}">
											<input type="hidden" id="rm-d2-unit" name="rm-d2-unit" value="{{ material.rm_d2_unit }}">
											<input type="hidden" id="rm-t-unit" name="rm-t-unit" value="{{ material.rm_t_unit }}">
											<input type="hidden" id="rm-w-unit" name="rm-w-unit" value="{{ material.rm_w_unit }}">
											<input type="hidden" id="rm-l-unit" name="rm-l-unit" value="{{ material.rm_l_unit }}">
											<br>
											<!-- Annual Raw Material Requirement (kg) -->
											<div class="table-responsive">
												<table class="table table-bordered table-striped table-condensed mb-none">
													<thead>
													    <th class="center custom1" colspan="5">Annual Raw Material Requirement (kg)</th>
														<tr>
															<th class="center custom2">{{ current_year }}</th>
													    <th class="center custom2">{{ current_year|add:"1" }}</th>
													    <th class="center custom2">{{ current_year|add:"2" }}</th>
													    <th class="center custom2">{{ current_year|add:"3" }}</th>
															<th class="center custom2">{{ current_year|add:"4" }}</th>
													  </tr>
													</thead>
													<tbody>
														<tr>
															<td class="center" id="armr-year1" name="armr-year1">-</td>
															<td class="center" id="armr-year2" name="armr-year2">-</td>
															<td class="center" id="armr-year3" name="armr-year3">-</td>
															<td class="center" id="armr-year4" name="armr-year4">-</td>
															<td class="center" id="armr-year5" name="armr-year5">-</td>
														</tr>
													</tbody>
											</table>
											</div>
											<br>
											<!-- Finish & Raw Material Weight Per Part (kg) -->
											<div class="table-responsive">
												<table class="table table-bordered table-striped table-condensed mb-none">
													<thead>
													    <th class="center custom1" colspan="4">Finish & Raw Material Weight Per Part (kg)</th>
														<tr>
															<th class="center custom2">Finished Part Weight Percentage</th>
															<th class="center custom2">Approximate Finished Part Weight Per Part</th>
													    <th class="center custom2">
																Approximate Raw Material Weight Per Part
																{% if material.armwpp != 0 %}
																	<i class="fa fa-exclamation-circle" data-toggle="tooltip" data-placement="top" title="Overwrite Value"></i>
																{% endif %}
															</th>
													    <th class="center custom2">Total Raw Material Weight Per Year</th>
													  </tr>
													</thead>
													<tbody>
														<tr>
															<td class="center" id="fpwp" name="fpwp">{{ material.fpwp }}</td>
															<td class="center" id="afpwpp" name="afpwpp">-</td>
															<td class="center" id="armwpp" name="armwpp">-</td>
															<td class="center" id="armwpp2" name="armwpp2" hidden>{{ material.armwpp }}</td>
															<td class="center" id="trmwpy" name="trmwpy">-</td>
														</tr>
													</tbody>
											</table>
											</div>
											<br>
											<div class="form-group">
												<label class="col-sm-3 control-label"><b>Material Supplier</b></label>
												<div class="col-sm-9">
													<label class="control-label" id="material-supplier" name="material-supplier">{{ material.supplier }}</label>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-3 control-label"><b>Base Material Price/kg</b></label>
												<div class="col-sm-9">
													<label class="control-label" id="base-material-price" name="base-material-price">{{ material.base_material_price }}</label>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-3 control-label"><b>Material Shipping Cost USD/kg</b></label>
												<div class="col-sm-9">
													<label class="control-label" id="material-shipping-cost" name="material-shipping-cost">{{ material.shipping_cost }}</label>
												</div>
											</div>
											<div class="text-right mr-lg">
												{% if user.extenduser.role.permission == 0 or user.extenduser.role.permission == 1 %}
												<a class="mb-xs mt-xs mr-xs btn btn-sm btn-default" href="/edit_material/{{ part.sl_no }}"><i class="fa fa-edit"></i> Edit</a>
												{% endif %}
											</div>
							    </div>
							</section>
					</div>

					<!-- Hardware -->
					<div class="col-md-12" {% if part.type == "Part" %}hidden{% endif %}>
							<section class="panel panel-featured">
									<header class="panel-heading">
												<div class="panel-actions">
													<a href="#" class="fa fa-caret-down"></a>
													<!-- <a href="#" class="fa fa-times"></a> -->
												</div>
												<h2 class="panel-title"><i class="fa fa-codepen"></i> Hardware</h2>
									</header>
									<div class="panel-body">
										<div class="form-group">
											<label class="col-sm-3 control-label"><b>Hardware Description</b></label>
											<div class="col-sm-9">
												<label class="control-label" id="hardware-description" name="hardware-description">{{ hardware.description }}</label>
											</div>
										</div>
										<div class="form-group">
											<label class="col-sm-3 control-label"><b>Hardware Qty Per Part</b></label>
											<div class="col-sm-9">
												<label class="control-label" id="hardware-qty" name="hardware-qty">{{ hardware.qty }}</label>
											</div>
										</div>
										<div class="form-group">
											<label class="col-sm-3 control-label"><b>Hardware Supplier</b></label>
											<div class="col-sm-9">
												<label class="control-label" id="hardware-supplier" name="hardware-supplier">{{ hardware.supplier }}</label>
											</div>
										</div>
										<div class="form-group">
											<label class="col-sm-3 control-label"><b>Hardware Price</b></label>
											<div class="col-sm-9">
												<label class="control-label" id="hardware-price" name="hardware-price">{{ hardware.price }}</label>
											</div>
										</div>
										<div class="text-right mr-lg">
											{% if user.extenduser.role.permission == 0 or user.extenduser.role.permission == 1 %}
											<a class="mb-xs mt-xs mr-xs btn btn-sm btn-default" href="/edit_hardware/{{ part.sl_no }}"><i class="fa fa-edit"></i> Edit</a>
											{% endif %}
										</div>
							    </div>
							</section>
					</div>

					<!-- Process & Rate -->
					<div class="col-md-12">
							<section class="panel panel-featured">
									<header class="panel-heading">
												<div class="panel-actions">
													<a href="#" class="fa fa-caret-down"></a>
													<!-- <a href="#" class="fa fa-times"></a> -->
												</div>
												<h2 class="panel-title"><i class="fa fa-gears"></i> Process & Rate</h2>
									</header>
									<div class="panel-body">
												<!-- Burden Rate -->
												<div class="table-responsive">
													<table class="table table-bordered table-striped table-condensed mb-none">
													<thead>
														<th class="center custom1" colspan="2">Burden Rate</th>
														<tr>
															<th class="center custom2">Name</th>
															<th class="center custom2">Rate</th>
														</tr>
													</thead>
													<tbody>
														<tr {% if part.type == "Hardware" %}hidden{% endif %}>
															<td class="center">Material</th>
															<td class="center" id="rate-material" name="rate-material">{{ burden_rate.material }}</td>
														</tr>
														<tr {% if part.type == "Part" %}hidden{% endif %}>
															<td class="center">Hardware</th>
															<td class="center" id="rate-hardware" name="rate-hardware">{{ burden_rate.hardware }}</td>
														</tr>
														<tr {% if part.type == "Hardware" %}hidden{% endif %}>
															<td class="center">Subcontract</th>
															<td class="center" id="rate-subcontract" name="rate-subcontract">{{ burden_rate.subcontract }}</td>
														</tr>
														<tr {% if part.type == "Hardware" %}hidden{% endif %}>
															<td class="center">Special Process</th>
															<td class="center" id="rate-sp" name="rate-sp">{{ burden_rate.sp }}</td>
														</tr>
													</tbody>
												</table>
											</div>
											<div class="text-right mr-lg">
												{% if user.extenduser.role.permission == 0 or user.extenduser.role.permission == 1 %}
												<a class="mb-xs mt-xs mr-xs btn btn-sm btn-default" href="/edit_burden_rate/{{ part.sl_no }}"><i class="fa fa-edit"></i> Edit</a>
												{% endif %}
											</div>
											<!-- Special Process -->
											<input type="number" id="sp-set-size" name="sp-set-size" value="{{ sp_set.count }}" hidden>
											<div class="table-responsive" {% if part.type == "Hardware" %}hidden{% endif %}>
												<table class="table table-bordered table-striped table-condensed mb-none">
												<thead>
													<th class="center custom1" colspan="3">Special Process</th>
													<tr>
														<th class="center custom2">Name</th>
														<th class="center custom2">Rate</th>
														<th class="center custom2">Specification</th>
													</tr>
												</thead>
												<tbody>
													{% for sp in sp_set %}
													<tr>
														<td class="center"><b>{{ sp.sp_id.name }}</b></td>
														<td class="center" id="sp-rate-{{ forloop.counter0 }}" name="sp-rate-{{ forloop.counter0 }}">{{ sp.rate }}</td>
														<td class="center" id="sp-spec-{{ forloop.counter0 }}" name="sp-spec-{{ forloop.counter0 }}">{{ sp.spec }}</td>
													</tr>
													{% endfor %}
													{% if sp_set.count == 0 %}<tr><td class="center" colspan="3">This part has no special process.</td></tr>{% endif %}
												</tbody>
											</table>
											</div>
											<div class="text-right mr-lg" {% if part.type == "Hardware" %}hidden{% endif %}>
												{% if user.extenduser.role.permission == 0 or user.extenduser.role.permission == 1 %}
												<a class="mb-xs mt-xs mr-xs btn btn-sm btn-default" href="/select_sp_set/{{ part.sl_no }}"><i class="fa fa-check-square-o"></i> Select</a>
												<a class="mb-xs mt-xs mr-xs btn btn-sm btn-default" href="/edit_sp_set/{{ part.sl_no }}" {% if sp_set.count == 0 %}disabled{% endif %}><i class="fa fa-edit"></i> Edit</a>
												{% endif %}
											</div>
											<!-- Machining Process -->
											<div class="form-group" {% if part.type == "Hardware" %}hidden{% endif %}>
												<label class="col-sm-3 control-label"><b>Production Qty</b></label>
												<div class="col-sm-9">
													<label class="control-label" id="production-qty" name="production-qty">-</label>
												</div>
											</div>
											<input type="number" id="mc-set-size" name="mc-set-size" value="{{ mc_set.count }}" hidden>
											<div class="table-responsive" {% if part.type == "Hardware" %}hidden{% endif %}>
												<table class="table table-bordered table-striped table-condensed mb-none">
												<thead>
													<th class="center custom1" colspan="4" >Machining Process</th>
													<tr>
														<th class="center custom2">Name</th>
														<th class="center custom2">Activity Rate</th>
														<th class="center custom2">Machining Set Up Time (Minutes)</th>
														<th class="center custom2">Cycle Time Per Part (Minutes)</th>
													</tr>
												</thead>
												<tbody>
													{% for mc in mc_set %}
													<tr>
														<td class="center"><b>{{ mc.act_id.mc_id.name }}</b></td>
														<td class="center" id="mc-id-{{ forloop.counter0 }}" name="mc-id-{{ forloop.counter0 }}" hidden>{{ mc.act_id.id }}</td>
														<td class="center" id="act-rate-{{ forloop.counter0 }}" name="act-rate-{{ forloop.counter0 }}">{{ mc.act_id.rate }}</td>
														<td class="center" id="mc-msut-{{ forloop.counter0 }}" name="mc-msut-{{ forloop.counter0 }}">{{ mc.msut }}</td>
														<td class="center" id="mc-ctpp-{{ forloop.counter0 }}" name="mc-ctpp-{{ forloop.counter0 }}">{{ mc.ctpp }}</td>
													</tr>
													{% endfor %}
													{% if mc_set.count == 0 %}<tr><td class="center" colspan="4">This part has no machining process.</td></tr>{% endif %}
												</tbody>
											</table>
											</div>
											<div class="text-right mr-lg" {% if part.type == "Hardware" %}hidden{% endif %}>
												{% if user.extenduser.role.permission == 0 or user.extenduser.role.permission == 1 %}
												<a class="mb-xs mt-xs mr-xs btn btn-sm btn-default" href="/select_mc_set/{{ part.sl_no }}"><i class="fa fa-check-square-o"></i> Select</a>
												<a class="mb-xs mt-xs mr-xs btn btn-sm btn-default" href="/edit_mc_set/{{ part.sl_no }}" {% if mc_set.count == 0 %}disabled{% endif %}><i class="fa fa-edit"></i> Edit</a>
												{% endif %}
											</div>
							    </div>
							</section>
					</div>

					<!-- Part Costing -->
					<div class="col-md-12">
							<section class="panel panel-featured">
									<header class="panel-heading">
												<div class="panel-actions">
													<a href="#" class="fa fa-caret-down"></a>
													<!-- <a href="#" class="fa fa-times"></a> -->
												</div>
												<h2 class="panel-title"><i class="fa fa-dollar"></i> Part Costing</h2>
									</header>
									<div class="panel-body">
										<!-- Material Costing -->
										<div class="row" {% if part.type == "Hardware" %}hidden{% endif %}>
											<div class="form-group">
												<div class="col-md-4 labcustom">
													<label class="col-sm-7 control-label text-right labcustom"><b>One Year Raw Material Buy (kg)</b></label>
													<label class="col-sm-5 control-label text-left labcustom" id="oyrmb" name="oyrmb">-</label>
												</div>
												<div class="col-md-4 labcustom">
													<label class="col-sm-7 control-label text-right labcustom"><b>MOQ Raw Material Order (kg)</b></label>
													<label class="col-sm-5 control-label text-left labcustom" id="moq-rm-order" name="moq-rm-order">-</label>
												</div>
												<div class="col-md-4 labcustom">
													<label class="col-sm-7 control-label text-right labcustom"><b>Material Burden Cost</b></label>
													<label class="col-sm-5 control-label text-left labcustom" id="material-burden-cost" name="material-burden-cost">-</label>
												</div>
											</div>
											<div class="form-group">
												<div class="col-md-4 labcustom">
													<label class="col-sm-7 control-label text-right labcustom"><b>Material Cost DDP CCS</b></label>
													<label class="col-sm-5 control-label text-left labcustom" id="material-cost" name="material-cost">-</label>
												</div>
												<div class="col-md-4 labcustom">
													<!-- Empty -->
												</div>
												<div class="col-md-4 labcustom">
													<!-- Empty -->
												</div>
											</div>
											<hr>
										</div>
										<!-- Special Process Costing -->
										<!-- Special Process Cost (Dollar) -->
										<div class="table-responsive" {% if part.type == "Hardware" %}hidden{% endif %}>
											<table class="table table-bordered table-striped table-condensed mb-none">
												<thead>
													<th class="center custom1" colspan="2" >Special Process Cost (Dollar)</th>
													<tr>
														<th class="center custom2">Name</th>
														<th class="center custom2">Cost (Dollar)</th>
													</tr>
												</thead>
												<tbody>
													{% for sp in sp_set %}
													<tr>
														<td class="center"><b>{{ sp.sp_id.name }}</b></td>
														<td class="center" id="sp-cost-{{ forloop.counter0 }}" name="sp-cost-{{ forloop.counter0 }}">-</td>
													</tr>
													{% endfor %}
													{% if sp_set.count == 0 %}<tr><td class="center" colspan="2">This part has no special process.</td></tr>{% endif %}
												</tbody>
											</table>
										</div>
										<br>
										<div class="row" {% if part.type == "Hardware" %}hidden{% endif %}>
											<div class="form-group">
												<div class="col-md-4 labcustom">
													<label class="col-sm-7 control-label text-right labcustom"><b>Special Process Burden Cost</b></label>
													<label class="col-sm-5 control-label text-left labcustom" id="sp-burden-cost" name="sp-burden-cost">-</label>
												</div>
												<div class="col-md-4 labcustom">
													<label class="col-sm-7 control-label text-right labcustom"><b>Surface Treatment Cost</b></label>
													<label class="col-sm-5 control-label text-left labcustom" id="surface-treatment-cost" name="surface-treatment-cost">-</label>
												</div>
												<div class="col-md-4 labcustom">
													<!-- Empty -->
												</div>
											</div>
											<hr>
										</div>
										<!-- Machining Process Costing -->
										<!-- Total Cycle Time (Minutes) & Cost (Dollar) -->
										<div class="table-responsive" {% if part.type == "Hardware" %}hidden{% endif %}>
											<table class="table table-bordered table-striped table-condensed mb-none">
												<thead>
													<th class="center custom1" colspan="3">Total Cycle Time (Minutes) & Cost (Dollar)</th>
													<tr>
														<th class="center custom2">Name</th>
														<th class="center custom2">Time (Minutes)</th>
														<th class="center custom2">Cost (Dollar)</th>
													</tr>
												</thead>
												<tbody>
													{% for mc in mc_set %}
													<tr>
														<td class="center"><b>{{ mc.act_id.mc_id.name }}</b></td>
														<td class="center" id="mc-tctt-{{ forloop.counter0 }}" name="mc-tctt-{{ forloop.counter0 }}">-</td>
														<td class="center" id="mc-tctc-{{ forloop.counter0 }}" name="mc-tctc-{{ forloop.counter0 }}">-</td>
													</tr>
													{% endfor %}
													{% if mc_set.count == 0 %}<tr><td class="center" colspan="3">This part has no machining process.</td></tr>{% endif %}
												</tbody>
											</table>
										</div>
										<div class="row" {% if part.type == "Hardware" %}hidden{% endif %}>
											<br>
											<div class="form-group">
												<div class="col-md-4 labcustom">
													<label class="col-sm-7 control-label text-right labcustom"><b>Manufacturing Cost</b></label>
													<label class="col-sm-5 control-label text-left labcustom" id="manufacturing-cost" name="manufacturing-cost">-</label>
												</div>
												<div class="col-md-4 labcustom">
													<label class="col-sm-7 control-label text-right labcustom"><b>Additional MFG OH Factor</b></label>
													<label class="col-sm-5 control-label text-left labcustom" id="additional-mfg" name="additional-mfg">-</label>
												</div>
												<div class="col-md-4 labcustom">
													<label class="col-sm-7 control-label text-right labcustom"><b>Profit Factor</b></label>
													<label class="col-sm-5 control-label text-left labcustom" id="profit-factor" name="profit-factor">-</label>
												</div>
											</div>
											<div class="form-group">
												<div class="col-md-4 labcustom">
													<label class="col-sm-7 control-label text-right labcustom"><b>Total Manufacturing Cost</b></label>
													<label class="col-sm-5 control-label text-left labcustom" id="total-manufacturing-cost" name="total-manufacturing-cost">-</label>
												</div>
												<div class="col-md-4 labcustom">
													<!-- Empty -->
												</div>
												<div class="col-md-4 labcustom">
													<!-- Empty -->
												</div>
											</div>
											<hr>
										</div>
										<!-- Hardware Costing -->
										<div class="row" {% if part.type == "Part" %}hidden{% endif %}>
											<div class="form-group">
												<div class="col-md-4 labcustom">
													<label class="col-sm-7 control-label text-right labcustom"><b>Hardware Burden Cost</b></label>
													<label class="col-sm-5 control-label text-left labcustom" id="hardware-burden-cost" name="hardware-burden-cost">-</label>
												</div>
												<div class="col-md-4 labcustom">
													<label class="col-sm-7 control-label text-right labcustom"><b>Hardware Cost</b></label>
													<label class="col-sm-5 control-label text-left labcustom" id="hardware-cost" name="hardware-cost">-</label>
												</div>
												<div class="col-md-4 labcustom">
													<!-- Empty -->
												</div>
											</div>
											<hr>
										</div>
										<!-- Other Costing -->
										<div class="row">
											<div class="form-group">
												<div class="col-md-3 labcustom">
													<label class="col-sm-12 control-label text-right labcustom"><b><u>CCS Quote Assumptions</u></b></label>
												</div>
												<div class="col-md-8 labcustom">
													<label class="col-sm-12 control-label text-left labcustom" id="ccs-quote-assumptions" name="ccs-quote-assumptions">{{ part_costing.ccs_quote_assumptions }}</label>
												</div>
											</div>
											<div class="form-group" {% if part.type == "Hardware" %}hidden{% endif %}>
												<div class="col-md-4 labcustom">
													<label class="col-sm-7 control-label text-right labcustom"><b><u>Base Subcontract</u></b></label>
													<label class="col-sm-5 control-label text-left labcustom" id="base-subcontract" name="base-subcontract">{{ part_costing.base_subcontract }}</label>
												</div>
												<div class="col-md-4 labcustom">
													<label class="col-sm-7 control-label text-right labcustom"><b><u>Shipping Cost</u></b></label>
													<label class="col-sm-5 control-label text-left labcustom" id="shipping-cost" name="shipping-cost">{{ part_costing.shipping_cost }}</label>
												</div>
												<div class="col-md-4 labcustom">
													<label class="col-sm-7 control-label text-right labcustom"><b>Subcontract Shipping Cost</b></label>
													<label class="col-sm-5 control-label text-left labcustom" id="subcontract-shipping-cost" name="subcontract-shipping-cost">-</label>
												</div>
											</div>
											<div class="form-group" {% if part.type == "Hardware" %}hidden{% endif %}>
												<div class="col-md-4 labcustom">
													<label class="col-sm-7 control-label text-right labcustom">
														<b>EBQ_CCS QTY (Prodn Lot)</b>
														{% if part_costing.ebq_ccs_qty != 0 %}
															<b><i class="fa fa-exclamation-circle text-warning" data-toggle="tooltip" data-placement="top" title="Overwrite Value"></i></b>
														{% endif %}
												  </label>
													<label class="col-sm-5 control-label text-left labcustom" id="ebq-ccs-qty" name="ebq-ccs-qty">-</label>
													<label class="col-sm-5 control-label text-left labcustom" id="ebq-ccs-qty2" name="ebq-ccs-qty2" hidden>{{ part_costing.ebq_ccs_qty }}</label>
												</div>
												<div class="col-md-4 labcustom">
													<label class="col-sm-7 control-label text-right labcustom"><b><u>EBQ_Customer QTY (Prodn Lot)</u></b></label>
													<label class="col-sm-5 control-label text-left labcustom" id="ebq-customer-qty" name="ebq-customer-qty">{{ part_costing.ebq_customer_qty }}</label>
												</div>
												<div class="col-md-4 labcustom">
													<label class="col-sm-7 control-label text-right labcustom"><b>Minimum Firm Order Quantity/Lot</b></label>
													<label class="col-sm-5 control-label text-left labcustom" id="minimum-firm-order-qty" name="minimum-firm-order-qty">-</label>
												</div>
											</div>
											<div class="form-group" {% if part.type == "Hardware" %}hidden{% endif %}>
												<div class="col-md-4 labcustom">
													<label class="col-sm-7 control-label text-right labcustom"><b><u>One Time Special Process Set Up Cost</u></b></label>
													<label class="col-sm-5 control-label text-left labcustom" id="otspsuc" name="otspsuc">{{ part_costing.otspsuc }}</label>
												</div>
												<div class="col-md-4 labcustom">
													<label class="col-sm-7 control-label text-right labcustom"><b><u>One Time RM Airshipments Cost</u></b></label>
													<label class="col-sm-5 control-label text-left labcustom" id="otrmac" name="otrmac">{{ part_costing.otrmac }}</label>
												</div>
												<div class="col-md-4 labcustom">
													<label class="col-sm-7 control-label text-right labcustom">
														<b><u>One Time Tooling Cost</u></b>
														<b><i class="fa fa-info-circle" data-toggle="tooltip" data-placement="top" title="CAD Modelling, CNC Programming, Thread Gauges, Jigs & Fixtures Design & Manufacturing, FAI Prove Out & Documentations"></i></b>
													</label>
													<label class="col-sm-5 control-label text-left labcustom" id="ottc" name="ottc">{{ part_costing.ottc }}</label>
												</div>
											</div>
											<div class="form-group" {% if part.type == "Hardware" %}hidden{% endif %}>
												<div class="col-md-4 labcustom">
													<label class="col-sm-7 control-label text-right labcustom"><b><u>Total NRE Cost</u></b></label>
													<label class="col-sm-5 control-label text-left labcustom" id="total-nre-cost" name="total-nre-cost">{{ part_costing.total_nre_cost }}</label>
												</div>
												<div class="col-md-4 labcustom">
													<label class="col-sm-7 control-label text-right labcustom"><b><u>Target Price (USD)</u></b></label>
													<label class="col-sm-5 control-label text-left labcustom" id="target-price" name="target-price">{{ part_costing.target_price }}</label>
												</div>
												<div class="col-md-4 labcustom">
													<label class="col-sm-7 control-label text-right labcustom"><b>CCS Ex-works Price</b></label>
													<label class="col-sm-5 control-label text-left labcustom" id="ccs-ewp" name="ccs-ewp">-</label>
												</div>
											</div>
											<label id="sum-ccs-ewp" name="sum-ccs-ewp" hidden>{{ sum_child }}</label>
											<div class="form-group" {% if part.type == "Hardware" %}hidden{% endif %}>
												<div class="col-md-4 labcustom">
													{% if part.level == 0 %}
													<label class="col-sm-7 control-label text-right labcustom"><b>CCS Price Per Assembly</b></label>
													<label class="col-sm-5 control-label text-left labcustom" id="ccs-ppp" name="ccs-ppp">-</label>
													{% endif %}
												</div>
												<div class="col-md-4 labcustom">
													{% if part.level == 0 %}
													<label class="col-sm-7 control-label text-right labcustom"><b>DDP USD</b></label>
													<label class="col-sm-5 control-label text-left labcustom" id="ddp-usd" name="ddp-usd">-</label>
													{% endif %}
												</div>
												<div class="col-md-4 labcustom">
													<!-- Empty -->
												</div>
											</div>
											<br>
										</div>
										<div class="text-right mr-lg">
											{% if user.extenduser.role.permission == 0 or user.extenduser.role.permission == 1 %}
											<a class="mb-xs mt-xs mr-xs btn btn-sm btn-default" href="/edit_part_costing/{{ part.sl_no }}"><i class="fa fa-edit"></i> Edit</a>
											{% endif %}
										</div>
										<!-- Delivery Lead Time in Weeks -->
										<div class="table-responsive" {% if part.type == "Hardware" %}hidden{% endif %}>
											<table class="table table-bordered table-striped table-condensed mb-none">
													<thead>
														<th class="center custom1" colspan="3">Delivery Lead Time in Weeks</th>
														<tr>
													    <th class="center custom2">FAI</th>
													    <th class="center custom2">Serial Production</th>
															<th class="center custom2">Production</th>
													  </tr>
													</thead>
													<tbody>
														{% if part_costing.dltiw_fai == "" and part_costing.dltiw_serial_production == "" and part_costing.dltiw_production == "" %}
														<tr>
															<td class="center" colspan="3">No info.</td>
														</tr>
														{% else %}
														<tr>
															<td class="center" id="dltiw-fai" name="dltiw-fai">{{ part_costing.dltiw_fai }}</td>
															<td class="center" id="dltiw-serial-production" name="dltiw-serial-production">{{ part_costing.dltiw_serial_production }}</td>
															<td class="center" id="dltiw-production" name="dltiw-production">{{ part_costing.dltiw_production }}</td>
														</tr>
														{% endif %}
													</tbody>
											</table>
										</div>
										<div class="text-right mr-lg" {% if part.type == "Hardware" %}hidden{% endif %}>
											{% if user.extenduser.role.permission == 0 or user.extenduser.role.permission == 1 %}
											<a class="mb-xs mt-xs mr-xs btn btn-sm btn-default" href="/edit_dltiw/{{ part.sl_no }}"><i class="fa fa-edit"></i> Edit</a>
											{% endif %}
										</div>
										<!-- Total Part Cost -->
										<div class="table-responsive">
												<table class="table table-bordered table-striped table-condensed mb-none">
														<thead>
															<th class="center custom1" colspan="2">Total Part Cost</th>
															<tr>
														    <th class="center custom2">Name</th>
														    <th class="center custom2">Cost</th>
														  </tr>
														</thead>
														<tbody>
															<tr {% if part.type == "Hardware" %}hidden{% endif %}>
																<td class="center">Total Cost</th>
																<td class="center" id="total-cost" name="total-cost">-</td>
															</tr>
															<tr {% if part.type == "Hardware" %}hidden{% endif %}>
																<td class="center">Mtl Cost</th>
																<td class="center" id ="mtl-cost" name ="mtl-cost">-</td>
															</tr>
															<tr {% if part.type == "Hardware" %}hidden{% endif %}>
																<td class="center">Spl Process Cost</th>
																<td class="center" id="spl-process-cost" name="spl-process-cost">-</td>
															</tr>
															<tr {% if part.type == "Hardware" %}hidden{% endif %}>
																<td class="center">Total Machine Cost</th>
																<td class="center" id="total-machine-cost" name="total-machine-cost">-</td>
															</tr>
															<tr {% if part.type == "Part" %}hidden{% endif %}>
																<td class="center">Total Hardware Cost</th>
																<td class="center" id="total-hardware-cost" name="total-hardware-cost">-</td>
															</tr>
														</tbody>
												</table>
										</div>
										<label class="text-danger">* Total part cost here is not include its child parts cost.</label>
									</div>
							</section>
					</div>

					<!-- Machining Capacity Planing -->
					<div class="col-md-12" {% if part.type == "Hardware" %}hidden{% endif %}>
							<section class="panel panel-featured">
									<header class="panel-heading">
												<div class="panel-actions">
													<a href="#" class="fa fa-caret-down"></a>
													<!-- <a href="#" class="fa fa-times"></a> -->
												</div>
												<h2 class="panel-title"><i class="fa fa-rocket"></i> Machining Capacity Planing</h2>
									</header>
									<div class="panel-body">
											<!-- Machining Capacity Required for this Part -->
											<div class="table-responsive">
												<table class="table table-bordered table-striped table-condensed mb-none">
												<thead>
													<th class="center custom1" colspan="2">Machining Capacity Required for this Part</th>
													<tr>
														<th class="center custom2">Name</th>
														<th class="center custom2">Minutes</th>
													</tr>
												</thead>
												<tbody>
													{% for mc in mc_set %}
													<tr>
														<td class="center"><b>{{ mc.act_id.mc_id.name }}</b></td>
														<td class="center" id="mc-mcrftp-{{ forloop.counter0 }}" name="mc-mcrftp-{{ forloop.counter0 }}">-</td>
													</tr>
													{% endfor %}
													{% if mc_set.count == 0 %}<tr><td class="center" colspan="3">This part has no machining process.</td></tr>{% endif %}
												</tbody>
											</table>
										</div>
										<label class="text-danger">* Machining capacity planing here is not include its child parts machining capacity planing.</label>
							    </div>
							</section>
					</div>

					<!-- end: page -->
				</section>
			</div>
		</section>
	</body>
	<!-- Head Libs -->
	<script src="{% static "assets/vendor/modernizr/modernizr.js" %}"></script>

	<!-- Vendor -->
	<script src="{% static "assets/vendor/jquery/jquery.js" %}"></script>
	<script src="{% static "assets/vendor/jquery-browser-mobile/jquery.browser.mobile.js" %}"></script>
	<script src="{% static "assets/vendor/bootstrap/js/bootstrap.js" %}"></script>
	<script src="{% static "assets/vendor/nanoscroller/nanoscroller.js" %}"></script>
	<script src="{% static "assets/vendor/bootstrap-datepicker/js/bootstrap-datepicker.js" %}"></script>
	<script src="{% static "assets/vendor/magnific-popup/magnific-popup.js" %}"></script>
	<script src="{% static "assets/vendor/jquery-placeholder/jquery.placeholder.js" %}"></script>

	<!-- DataTable JS -->
	<script src="{% static "assets/vendor/select2/select2.js" %}"></script>
	<script src="{% static "assets/vendor/jquery-datatables/media/js/jquery.dataTables.js" %}"></script>
	<script src="{% static "assets/vendor/jquery-datatables/extras/TableTools/js/dataTables.tableTools.min.js" %}"></script>
	<script src="{% static "assets/vendor/jquery-datatables-bs3/assets/js/datatables.js" %}"></script>

	<!-- Notification JS -->
	<script src="{% static "assets/vendor/pnotify/pnotify.custom.js" %}"></script>
	<script src="{% static "assets/javascripts/ui-elements/examples.modals.js" %}"></script>

	<!-- Spinner JS -->
	<script src="{% static "assets/vendor/fuelux/js/spinner.js" %}"></script>

  <!-- Tree JS -->
	<script src="{% static "assets/vendor/jstree/jstree.js" %}"></script>

	<!-- Examples -->
	<script src="{% static "assets/javascripts/ui-elements/examples.treeview.js" %}"></script>

	<!-- Theme Base, Components and Settings -->
	<script src="{% static "assets/javascripts/theme.js" %}"></script>

	<!-- Theme Custom -->
	<script src="{% static "assets/javascripts/theme.custom.js" %}"></script>

	<!-- Theme Initialization Files -->
	<script src="{% static "assets/javascripts/theme.init.js" %}"></script>

	<script>
	$( document ).ready(function() {
		var url = new URL(window.location.href);
		var data_set = url.searchParams.get("data_set");
		if(data_set != null){
			$( "#pre-loading" ).show();
		}
		data_cal();
	});

	function fetch_data(){
			var url = new URL(window.location.href);
			var data_set = url.searchParams.get("data_set");
			var final_page = url.searchParams.get("final_page");
			if(data_set != null && final_page != null){
				var arr_data_set = data_set.split(",");
				var next_page = -1;
				var current_page = {{ part.sl_no }};
				var current_project = {{ part.tracker_no.tracker_no }};
				for(var i = 0;i < data_set.length;i++){
					if(arr_data_set[i] == current_page){
						next_page = arr_data_set[i + 1];
					}
				}
				if(next_page != undefined){
					setTimeout(function() {
	  				window.open("/part_info/" + next_page + "?data_set=" + data_set +"&final_page=" + final_page , "_self");
					}, 100);
				} else {
					window.open("/" + final_page + "/" + current_project + "/?message=1" , "_self");
				}
			} else {
				$( "#pre-loading" ).hide();
				$( "#content" ).show();
			}
	}

	function data_cal(){
		// -*-*-*-*-*-*-*-*-*-*- 1 RAW INPUT SAVE PHASE -*-*-*-*-*-*-*-*-*-*-

		var sl_no = $( "#sl-no" ).text();

		// -- Forecast & EAU --
		var qty_per_unit = parseFloat($( "#qty-per-unit" ).text());
		var forecast_year1 = parseFloat($( "#forecast-year1" ).text());
		var forecast_year2 = parseFloat($( "#forecast-year2" ).text());
		var forecast_year3 = parseFloat($( "#forecast-year3" ).text());
		var forecast_year4 = parseFloat($( "#forecast-year4" ).text());
		var forecast_year5 = parseFloat($( "#forecast-year5" ).text());
		var aeqfc = parseFloat($( "#aeqfc" ).text());

		// -- Material --
		var material_qty = parseFloat($( "#material-qty" ).text());
		var rm_density = parseFloat($( "#rm-density" ).text());
		var rm_d1 = parseFloat($( "#rm-d1" ).text());
		var rm_d2 = parseFloat($( "#rm-d2" ).text());
		var rm_t = parseFloat($( "#rm-t" ).text());
		var rm_w = parseFloat($( "#rm-w" ).text());
		var rm_l = parseFloat($( "#rm-l" ).text());
		var rm_total_weight = parseFloat($( "#rm-total-weight" ).text());
		var fpwp = parseFloat($( "#fpwp" ).text());
		var base_material_price = parseFloat($( "#base-material-price" ).text());
		var material_shipping_cost = parseFloat($( "#material-shipping-cost" ).text());

		// -- Hardware --
		var hardware_qty = parseFloat($( "#hardware-qty" ).text());
		var hardware_price = parseFloat($( "#hardware-price" ).text());

		// -- Process & Rate --
		// - Burden Rate -
		var rate_material = parseFloat($( "#rate-material" ).text());
		var rate_hardware = parseFloat($( "#rate-hardware" ).text());
		var rate_subcontract = parseFloat($( "#rate-subcontract" ).text());
		var rate_sp = parseFloat($( "#rate-sp" ).text());
		// - Special Process Rate -
		var sp_set_size = $( "#sp-set-size" ).val();
		var arr_sp_rate = [];
		for(var i = 0; i < sp_set_size;i++){
			var text = "#sp-rate-" + i;
			arr_sp_rate[i] =  parseFloat($( text ).text());
		}
		// - Machining Process -
		// - Activity Rate -
		// - Machining Set Up Time (Minutes) - NO RESTATE
		// - Cycle Time Per Part (Minutes)  - NO RESTATE
		// - MC ID - NO RESTATE
		var mc_set_size = $( "#mc-set-size" ).val();
		var arr_act_rate = [];
		var arr_mc_msut = [];
		var arr_mc_ctpp = [];
		var arr_mc_id = [];
		for(var i = 0; i < mc_set_size;i++){
			var text = "#act-rate-" + i;
			arr_act_rate[i] =  parseFloat($( text ).text());
			var text = "#mc-msut-" + i;
			arr_mc_msut[i] =  parseFloat($( text ).text());
			var text = "#mc-ctpp-" + i;
			arr_mc_ctpp[i] =  parseFloat($( text ).text());
			var text = "#mc-id-" + i;
			arr_mc_id[i] =  parseFloat($( text ).text());
		}

		// -- Part Costing --
		var base_subcontract = parseFloat($( "#base-subcontract" ).text());
		var shipping_cost = parseFloat($( "#shipping-cost" ).text());
		var ebq_customer_qty = parseFloat($( "#ebq-customer-qty" ).text());
		var otspsuc = parseFloat($( "#otspsuc" ).text());
		var otrmac = parseFloat($( "#otrmac" ).text());
		var ottc = parseFloat($( "#ottc" ).text());
		var total_nre_cost = parseFloat($( "#total-nre-cost" ).text());
		var target_price = parseFloat($( "#target-price" ).text());

		// -- Special --
		var armwpp2 = parseFloat($( "#armwpp2" ).text());
		var ebq_ccs_qty2 = parseFloat($( "#ebq-ccs-qty2" ).text());
		// SUM(CCS Ex-works Price) of all child
		var sum_ccs_ewp = parseFloat($( "#sum-ccs-ewp" ).text());

		// -*-*-*-*-*-*-*-*-*-*- 2 CALCULATE VALUE SAVE PHASE -*-*-*-*-*-*-*-*-*-*-

		// -- Forecast & EAU --
		// EAU = Forecast * Qty
		// 5 Years Total EAU = SUM(EAU)
		var eau_year1 = forecast_year1 * qty_per_unit;
		var eau_year2 = forecast_year2 * qty_per_unit;
		var eau_year3 = forecast_year3 * qty_per_unit;
		var eau_year4 = forecast_year4 * qty_per_unit;
		var eau_year5 = forecast_year5 * qty_per_unit;
		var eau_total_year = eau_year1 + eau_year2 + eau_year3 + eau_year4 + eau_year5;

		// -- Material --
		// Annual Raw Material Requirement = Total RM Weight * Annual Estimate Qty for Calculation
		var armr_year1 = rm_total_weight * aeqfc;
		var armr_year2 = rm_total_weight * aeqfc;
		var armr_year3 = rm_total_weight * aeqfc;
		var armr_year4 = rm_total_weight * aeqfc;
		var armr_year5 = rm_total_weight * aeqfc;

		// Approximate Finished Part Weight Per Part = Total RM Weight * Finished Part Weight Percentage
		var afpwpp = rm_total_weight * fpwp;

		// Approximate Raw Material Weight Per Part = Total RM Weight <EDITABLE>
		var armwpp = rm_total_weight;
		if(armwpp2 != 0 && armwpp2){
			armwpp = armwpp2;
		}

		// Total Raw Material Weight Per Year = Total RM Weight * Annual Estimate Qty for Calculation
		var trmwpy = rm_total_weight * aeqfc;

		// -- Process & Rate --
		// Production Qty = Annual Estimate Qty for Calculation / 4
		var production_qty = aeqfc / 4;

		// -- Part Costing --

		// - Material Costing -
		// One Year Raw Material Buy (kg) = Total Raw Material Weight Per Year
		var oyrmb = trmwpy;
		// MOQ Raw Material Order (kg) = (Annual Estimate Qty for Calculation * Approximate Raw Material Weight Per Part) / 4
		var moq_rm_order = (aeqfc * armwpp) / 4;
		// Material Burden Cost = (Base Material Price/kg + Material Shipping Cost USD/Kg) * Approximate Raw Material Weight Per Part * (Material Burden - 1)
		var material_burden_cost = (base_material_price + material_shipping_cost) * armwpp * (rate_material - 1);
		// Material Cost DDP CCS = (Base Material Price/kg + Material Shipping Cost USD/Kg) * Approximate Raw Material Weight Per Part * Material Burden
		var material_cost = (base_material_price + material_shipping_cost) * armwpp * rate_material;
		// - Special Process Costing -
		// Special Process Cost (Dollar) = Special Process Rate * (1 / Production Qty)
		var arr_sp_cost = [];
		for(var i = 0; i < sp_set_size;i++){
			arr_sp_cost[i] =  arr_sp_rate[i] * (1 / production_qty);
		}
		// Special Process Burden Cost = SUM(Special Process Cost) * (Special Process Burden - 1)
		var sp_burden_cost = 0;
		for(var i = 0; i < sp_set_size;i++){
			sp_burden_cost = sp_burden_cost + arr_sp_cost[i];
		}
		sp_burden_cost = sp_burden_cost * (rate_sp - 1);

		// Surface Treatment Cost = SUM(Special Process Cost) * Special Process Burden
		var surface_treatment_cost = 0;
		for(var i = 0; i < sp_set_size;i++){
			surface_treatment_cost = surface_treatment_cost + arr_sp_cost[i];
		}
		surface_treatment_cost = surface_treatment_cost * rate_sp;


		// - Machining Process Costing -
		// Total Cycle Time (Minutes) = (Machining Set Up Time / Production Qty) + Cycle Time Per Part
		// Total Cycle Cost (Dollar) = (Activity Rate / 60) * Total Cycle Time
		var arr_mc_tctt = [];
		var arr_mc_tctc = [];
		for(var i = 0; i < mc_set_size;i++){
			arr_mc_tctt[i] = (arr_mc_msut[i] / production_qty) + arr_mc_ctpp[i];
			arr_mc_tctc[i] = (arr_act_rate[i] / 60) * arr_mc_tctt[i];
		}
		// Manufacturing Cost = SUM(Total Cycle Cost)
		var manufacturing_cost = 0;
		for(var i = 0; i < mc_set_size;i++){
			manufacturing_cost = manufacturing_cost + arr_mc_tctc[i];
		}
		// Additional MFG OH Factor = Manufacturing Cost * 0.1
		var additional_mfg = manufacturing_cost * 0.1;
		// Profit Factor = Manufacturing Cost * 0.1
		var profit_factor = manufacturing_cost * 0.1;
		// Total Manufacturing Cost = Manufacturing Cost + Additional MFG OH Factor + Profit Factor
		var total_manufacturing_cost = manufacturing_cost + additional_mfg + profit_factor;

		// - Hardware Costing -
		// Hardware Burden Cost = Hardware Price * Hardware Qty Per Part * (Hardware Burden - 1)
		var hardware_burden_cost = hardware_price * hardware_qty * (rate_hardware - 1);
		// Hardware Cost = Hardware Price * Hardware Qty Per Part * Hardware Burden
		var hardware_cost = hardware_price * hardware_qty * rate_hardware;

		// - Other Costing -
		// Subcontract Shipping Cost = [Base Subcontract + (Shipping Cost * Approximate Finished Part Weight Per Part)] * Subcontract Burden
		var subcontract_shipping_cost = (base_subcontract + (shipping_cost * afpwpp)) * rate_subcontract;
		// EBQ_CCS QTY (Prodn Lot) = Annual Estimate Qty for Calculation / 4  <EDITABLE>
		var ebq_ccs_qty = aeqfc / 4;
		if(ebq_ccs_qty2 != 0 && ebq_ccs_qty2){
			ebq_ccs_qty = ebq_ccs_qty2;
		}
		// Minimum Firm Order Quantity/Lot = Annual Estimate Qty for Calculation
		var minimum_firm_order_qty = aeqfc;
		// CCS Ex-works Price = Total Manufacturing Cost + Surface Treatment Cost + Material Cost DDP CCS + Hardware Cost
		var ccs_ewp = total_manufacturing_cost + surface_treatment_cost + material_cost + hardware_cost;
		// CCS Price Per Assembly = SUM(CCS Ex-works Price) of all child & itself
		var ccs_ppp = ccs_ewp + sum_ccs_ewp;
		// DDP USD = CCS Price Per Assembly + (Shipping Cost * Approximate Finished Part Weight Per Part)
		var ddp_usd = ccs_ppp + (shipping_cost * afpwpp);

		// - Total Costing -
		// Total Cost = CCS Ex-works Price * Annual Estimate Qty for Calculation
		var total_cost = ccs_ewp * aeqfc;
		// Mtl Cost = Material Cost DDP CCS * Annual Estimate Qty for Calculation
		var mtl_cost = material_cost * aeqfc;
		// Spl Process Cost = Surface Treatment Cost * Annual Estimate Qty for Calculation
		var spl_process_cost = surface_treatment_cost * aeqfc;
		// Total Machine Cost = Total Manufacturing Cost * Annual Estimate Qty for Calculation
		var total_machine_cost = total_manufacturing_cost * aeqfc;
		// Total Hardware Cost = Hardware Cost * Annual Estimate Qty for Calculation
 		var total_hardware_cost = hardware_cost * aeqfc;

		// -- Machining Capacity Required for this Part --
		// Machining Capacity Required for this Part = Total Cycle Time * Annual Estimate Qty for Calculation
		var arr_mc_mcrftp = [];
		for(var i = 0; i < mc_set_size;i++){
			arr_mc_mcrftp[i] = arr_mc_tctt[i] * aeqfc;
		}

		// -*-*-*-*-*-*-*-*-*-*- 3 CALCULATE VALUE RESTATE PHASE -*-*-*-*-*-*-*-*-*-*-

		// -- Forecast & EAU --
		$( "#eau-year1" ).text(eau_year1);
		$( "#eau-year2" ).text(eau_year2);
		$( "#eau-year3" ).text(eau_year3);
		$( "#eau-year4" ).text(eau_year4);
		$( "#eau-year5" ).text(eau_year5);
		$( "#eau-total-year" ).text(eau_total_year);

		// -- Material --
		$( "#armr-year1" ).text(armr_year1);
		$( "#armr-year2" ).text(armr_year2);
		$( "#armr-year3" ).text(armr_year3);
		$( "#armr-year4" ).text(armr_year4);
		$( "#armr-year5" ).text(armr_year5);
		$( "#afpwpp" ).text(afpwpp);
		$( "#armwpp" ).text(armwpp);
		$( "#trmwpy" ).text(trmwpy);

		// -- Process & Rate --
		$( "#production-qty" ).text(production_qty);

		// -- Part Costing --
		// - Material Costing -
		$( "#oyrmb" ).text(oyrmb);
		$( "#moq-rm-order" ).text(moq_rm_order);
		$( "#material-burden-cost" ).text(material_burden_cost);
		$( "#material-cost" ).text(material_cost);
		// - Special Process Costing -
		// - Special Process Cost (Dollar) -
		for(var i = 0; i < sp_set_size;i++){
			text = "#sp-cost-" + i;
			$( text ).text(arr_sp_cost[i]);
		}
		$( "#sp-burden-cost" ).text(sp_burden_cost);
		$( "#surface-treatment-cost" ).text(surface_treatment_cost);
		// - Machining Process Costing -
		// Total Cycle Time (Minutes)
		// Total Cycle Cost (Dollar)
		for(var i = 0; i < mc_set_size;i++){
			text = "#mc-tctt-" + i;
			$( text ).text(arr_mc_tctt[i]);
			text = "#mc-tctc-" + i;
			$( text ).text(arr_mc_tctc[i]);
		}
		$( "#manufacturing-cost" ).text(manufacturing_cost);
		$( "#additional-mfg" ).text(additional_mfg);
		$( "#profit-factor" ).text(profit_factor);
		$( "#total-manufacturing-cost" ).text(total_manufacturing_cost);
		// - Hardware Costing -
		$( "#hardware-burden-cost" ).text(hardware_burden_cost);
		$( "#hardware-cost" ).text(hardware_cost);
		// - Other Costing -
		$( "#subcontract-shipping-cost" ).text(subcontract_shipping_cost);
		$( "#ebq-ccs-qty" ).text(ebq_ccs_qty);
		$( "#minimum-firm-order-qty" ).text(minimum_firm_order_qty);
		$( "#ccs-ewp" ).text(ccs_ewp);
		$( "#ccs-ppp" ).text(ccs_ppp);
		$( "#ddp-usd" ).text(ddp_usd);
		// - Total Costing -
		$( "#total-cost" ).text(total_cost);
		$( "#mtl-cost" ).text(mtl_cost);
		$( "#spl-process-cost" ).text(spl_process_cost);
		$( "#total-machine-cost" ).text(total_machine_cost);
		$( "#total-hardware-cost" ).text(total_hardware_cost);

		// -- Machining Capacity Required for this Part --
		for(var i = 0; i < mc_set_size;i++){
			text = "#mc-mcrftp-" + i;
			$( text ).text(arr_mc_mcrftp[i]);
		}

		// -*-*-*-*-*-*-*-*-*-*- 4 DATA COLLECT -*-*-*-*-*-*-*-*-*-*-

		$.ajax({
        url: '{% url 'data_collect' %}',
        data: {
					'sl_no' : sl_no,
          'ccs_ewp': ccs_ewp,

					'material_burden_cost' : material_burden_cost * aeqfc,
					'sp_burden_cost' : sp_burden_cost* aeqfc,
					'hardware_burden_cost' : hardware_burden_cost * aeqfc,

					'total_cost' : total_cost,
					'mtl_cost' : mtl_cost,
					'spl_process_cost' : spl_process_cost,
					'total_hardware_cost' : total_hardware_cost,
					'total_machine_cost' : total_machine_cost,

					'arr_mc_id' : arr_mc_id,
					'arr_mc_mcrftp' : arr_mc_mcrftp

        },
        dataType: 'json',
        success: function (data) {

        }
      });

		fetch_data();

		// -*-*-*-*-*-*-*-*-*-*- 5 RAW INPUT RESTATE-2 PHASE -*-*-*-*-*-*-*-*-*-*-

		// -- Forecast & EAU --
		$( "#qty-per-unit" ).text(math_fix(qty_per_unit,0));
		$( "#forecast-year1" ).text(math_fix(forecast_year1,0));
		$( "#forecast-year2" ).text(math_fix(forecast_year2,0));
		$( "#forecast-year3" ).text(math_fix(forecast_year3,0));
		$( "#forecast-year4" ).text(math_fix(forecast_year4,0));
		$( "#forecast-year5" ).text(math_fix(forecast_year5,0));
		$( "#aeqfc" ).text(math_fix(aeqfc,0));

		// -- Material --
		$( "#material-qty" ).text(math_fix(material_qty,0));
		$( "#rm-density" ).text(math_fix(rm_density,2));
		$( "#rm-d1" ).text(math_fix(rm_d1,2));
		$( "#rm-d2" ).text(math_fix(rm_d2,2));
		$( "#rm-t" ).text(math_fix(rm_t,2));
		$( "#rm-w" ).text(math_fix(rm_w,2));
		$( "#rm-l" ).text(math_fix(rm_l,2));
		$( "#rm-total-weight" ).text(math_fix(rm_total_weight,2));
		$( "#fpwp" ).text(math_fix(fpwp,2));
		$( "#base-material-price" ).text(math_fix(base_material_price,2,"$"));
		$( "#material-shipping-cost" ).text(math_fix(material_shipping_cost,2,"$"));

		// -- Hardware --
		$( "#hardware-qty" ).text(math_fix(hardware_qty,0));
		$( "#hardware-price" ).text(math_fix(hardware_price,2,"$"));

		// -- Process & Rate --
		// - Burden Rate -
		$( "#rate-material" ).text(math_fix(rate_material,4));
		$( "#rate-hardware" ).text(math_fix(rate_hardware,4));
		$( "#rate-subcontract" ).text(math_fix(rate_subcontract,4));
		$( "#rate-sp" ).text(math_fix(rate_sp,4));
		// - Special Process Rate -
		for(var i = 0; i < sp_set_size;i++){
			var text = "#sp-rate-" + i;
			$( text ).text(math_fix(arr_sp_rate[i],4));
		}
		// - Machining Process Rate/MSUT/CTPP -
		for(var i = 0; i < mc_set_size;i++){
			var text = "#act-rate-" + i;
			$( text ).text(math_fix(arr_act_rate[i],4));
			var text = "#mc-msut-" + i;
			$( text ).text(math_fix(arr_mc_msut[i],0));
			var text = "#mc-ctpp-" + i;
			$( text ).text(math_fix(arr_mc_ctpp[i],0));
		}

		// -- Part Costing --
		$( "#base-subcontract" ).text(math_fix(base_subcontract,2,"$"));
		$( "#shipping-cost" ).text(math_fix(shipping_cost,2,"$"));
		$( "#ebq-customer-qty" ).text(math_fix(ebq_customer_qty,0));
		$( "#otspsuc" ).text(math_fix(otspsuc,2,"$"));
		$( "#otrmac" ).text(math_fix(otrmac,2,"$"));
		$( "#ottc" ).text(math_fix(ottc,2,"$"));
		$( "#total-nre-cost" ).text(math_fix(total_nre_cost,2,"$"));
		$( "#target-price" ).text(math_fix(target_price,2,"$"));

		// -*-*-*-*-*-*-*-*-*-*- 6 CALCULATE VALUE RESTATE-2 PHASE -*-*-*-*-*-*-*-*-*-*-

		// -- Forecast & EAU --
		$( "#eau-year1" ).text(math_fix(eau_year1,0));
		$( "#eau-year2" ).text(math_fix(eau_year2,0));
		$( "#eau-year3" ).text(math_fix(eau_year3,0));
		$( "#eau-year4" ).text(math_fix(eau_year4,0));
		$( "#eau-year5" ).text(math_fix(eau_year5,0));
		$( "#eau-total-year" ).text(math_fix(eau_total_year,0));

		// -- Material --
		$( "#armr-year1" ).text(math_fix(armr_year1,2));
		$( "#armr-year2" ).text(math_fix(armr_year2,2));
		$( "#armr-year3" ).text(math_fix(armr_year3,2));
		$( "#armr-year4" ).text(math_fix(armr_year4,2));
		$( "#armr-year5" ).text(math_fix(armr_year5,2));
		$( "#afpwpp" ).text(math_fix(afpwpp,2));
		$( "#armwpp" ).text(math_fix(armwpp,2));
		$( "#trmwpy" ).text(math_fix(trmwpy,2));

		// -- Process & Rate --
		$( "#production-qty" ).text(math_fix(production_qty,0));

		// -- Part Costing --
		// - Material Costing -
		$( "#oyrmb" ).text(math_fix(oyrmb,2));
		$( "#moq-rm-order" ).text(math_fix(moq_rm_order,2));
		$( "#material-burden-cost" ).text(math_fix(material_burden_cost,2,"$"));
		$( "#material-cost" ).text(math_fix(material_cost,2,"$"));
		// - Special Process Costing -
		// - Special Process Cost (Dollar) -
		for(var i = 0; i < sp_set_size;i++){
			text = "#sp-cost-" + i;
			$( text ).text(math_fix(arr_sp_cost[i],2,"$"));
		}
		$( "#sp-burden-cost" ).text(math_fix(sp_burden_cost,2,"$"));
		$( "#surface-treatment-cost" ).text(math_fix(surface_treatment_cost,2,"$"));
		// - Machining Process Costing -
		// Total Cycle Time (Minutes)
		// Total Cycle Cost (Dollar)
		for(var i = 0; i < mc_set_size;i++){
			text = "#mc-tctt-" + i;
			$( text ).text(math_fix(arr_mc_tctt[i],0));
			text = "#mc-tctc-" + i;
			$( text ).text(math_fix(arr_mc_tctc[i],2,"$"));
		}
		$( "#manufacturing-cost" ).text(math_fix(manufacturing_cost,2,"$"));
		$( "#additional-mfg" ).text(math_fix(additional_mfg,2,"$"));
		$( "#profit-factor" ).text(math_fix(profit_factor,2,"$"));
		$( "#total-manufacturing-cost" ).text(math_fix(total_manufacturing_cost,2,"$"));
		// - Hardware Costing -
		$( "#hardware-burden-cost" ).text(math_fix(hardware_burden_cost,2,"$"));
		$( "#hardware-cost" ).text(math_fix(hardware_cost,2,"$"));
		// - Other Costing -
		$( "#subcontract-shipping-cost" ).text(math_fix(subcontract_shipping_cost,2,"$"));
		$( "#ebq-ccs-qty" ).text(math_fix(ebq_ccs_qty,0));
		$( "#minimum-firm-order-qty" ).text(math_fix(minimum_firm_order_qty,0));
		$( "#ccs-ewp" ).text(math_fix(ccs_ewp,2,"$"));
		$( "#ccs-ppp" ).text(math_fix(ccs_ppp,2,"$"));
		$( "#ddp-usd" ).text(math_fix(ddp_usd,2,"$"));
		// - Total Costing -
		$( "#total-cost" ).text(math_fix(total_cost,2,"$"));
		$( "#mtl-cost" ).text(math_fix(mtl_cost,2,"$"));
		$( "#spl-process-cost" ).text(math_fix(spl_process_cost,2,"$"));
		$( "#total-machine-cost" ).text(math_fix(total_machine_cost,2,"$"));
		$( "#total-hardware-cost" ).text(math_fix(total_hardware_cost,2,"$"));

		// -- Machining Capacity Required for this Part --
		for(var i = 0; i < mc_set_size;i++){
			text = "#mc-mcrftp-" + i;
			$( text ).text(math_fix(arr_mc_mcrftp[i],0));
		}

		// -*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-
	}

	function math_fix(value, digit, pre_sign, post_sign){
		if(isNaN(value)) return value;
		if(digit == undefined) digit = 0;
		if(pre_sign == undefined) pre_sign = "";
		if(post_sign == undefined) post_sign = "";
		var result = value.toFixed(digit);
		if(post_sign != "%") result = result.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g, ",");
		return pre_sign + result + post_sign;
	}

	</script>

	<!-- Notification -->
	<script>
	$( document ).ready(function() {
		var url = new URL(window.location.href);
		var message = url.searchParams.get("message");
		console.log('message :' + message);
		if(message != null){
			var notice = create_notification(message);
			notice.get().click(function() {
				notice.remove();
			});
		}
	});

	function create_notification(message){
		var message_title;
		var message_text;
		var message_type; // success error
		if(message == 0){
			message_title = "Fail";
			message_text = "Your data has not been saved.";
			message_type = "error";
		} else if(message == 1){
			message_title = "Success";
			message_text = "Your data has been saved.";
			message_type = "success";
		}

		return new PNotify({
			title: message_title,
			text: message_text,
			type: message_type,
			buttons: {
			closer: false,
			sticker: false
			}
		});
	}
	</script>

	<!-- DataTable Default -->
	<script>
	(function( $ ) {
		'use strict';
		var datatableInit = function() {
			$('#datatable-default').dataTable();
		};
		$(function() {
			datatableInit();
		});
	}).apply( this, [ jQuery ]);
	</script>

</html>
